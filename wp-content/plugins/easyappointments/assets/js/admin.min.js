jQuery(function(a){"use strict";function n(){var n={action:"install",path:a("#path").val(),url:a("#url").val(),nonce:EAWPConfig.Ajax.nonce};a.ajax({url:window.ajaxurl,data:n,method:"POST",dataType:"json"}).done(function(e){return e.exception?EAWPPlugin.handleAjaxException(e):(a(".eawp .notification").remove(),a(".eawp").prepend('<div class="updated notification"><span class="dashicons dashicons-yes"></span>'+EAWPConfig.Lang.InstallationSuccessMessage+' &rarr; <a href="'+n.url+'" target="_blank">'+n.url+"</a></div>"),void EAWPPlugin.toggleOperationButtons(!0))}).fail(EAWPPlugin.handleAjaxFailure)}function e(){var n={action:"link",path:a("#path").val(),url:a("#url").val(),nonce:EAWPConfig.Ajax.nonce};a.ajax({url:window.ajaxurl,data:n,method:"POST",dataType:"json"}).done(function(n){return n.exception?EAWPPlugin.handleAjaxException(n):(a(".eawp .notification").remove(),a(".eawp").prepend('<div class="updated notification"><span class="dashicons dashicons-yes"></span>'+EAWPConfig.Lang.LinkSuccessMessage+"</div>"),void EAWPPlugin.toggleOperationButtons(!0))}).fail(EAWPPlugin.handleAjaxFailure)}function i(){var n={action:"unlink",path:a("#path").val(),url:a("#url").val(),removeFiles:a("#remove-files").prop("checked"),removeDbTables:a("#remove-db-tables").prop("checked"),nonce:EAWPConfig.Ajax.nonce};a.ajax({url:window.ajaxurl,data:n,method:"POST",dataType:"json"}).done(function(n){return n.exception?EAWPPlugin.handleAjaxException(n):(a(".eawp .notification").remove(),a(".eawp").prepend('<div class="updated notification"><span class="dashicons dashicons-yes"></span>'+EAWPConfig.Lang.UnlinkSuccessMesssage+"</div>"),a("#path, #url").val(""),a("#remove-files, #remove-db-tables").prop("checked",!1),void EAWPPlugin.toggleOperationButtons(!1))}).fail(EAWPPlugin.handleAjaxFailure)}a("#install").on("click",n),a("#link").on("click",e),a("#unlink").on("click",i),a(document).ajaxStart(function(){a(".eawp img.loading").removeClass("hidden")}),a(document).ajaxComplete(function(){a(".eawp img.loading").addClass("hidden")})});