function page_generator_pro_get_url_param(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r,a=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return null===a?"":decodeURIComponent(a[1].replace(/\+/g," "))}function page_generator_pro_generate_content_test(e,t){wpzinc_modal_open(page_generator_pro_generate_content.titles.test,page_generator_pro_generate_content.messages.test),jQuery.ajax({url:ajaxurl,type:"POST",async:!0,data:{id:e,action:"page_generator_pro_generate_"+t,test_mode:!0},error:function(e,t,r){return wpzinc_modal_show_error_message(page_generator_pro_generate_content.messages.test_error)},success:function(e){if(!e.success)return wpzinc_modal_show_error_message(e.data);for(message='Test Page Generated at: <a href="'+e.data.url+'" rel="noopener" target="_blank">'+e.data.url+"</a>",i=0;i<e.data.keywords_terms.length;i++)message+="<br />{"+e.data.keywords_terms[i]+"}: "+e.data.keywords_terms[i];return wpzinc_modal_show_success_message(message)}})}function page_generator_pro_generate_content_trash_generated_content(e,t){wpzinc_modal_open(page_generator_pro_generate_content.titles.trash_generated_content,page_generator_pro_generate_content.messages.trash_generated_content),jQuery.ajax({url:ajaxurl,type:"POST",async:!0,data:{id:e,action:"page_generator_pro_generate_"+t+"_trash_generated_"+t},error:function(e,t,r){return wpzinc_modal_show_error_message(page_generator_pro_generate_content.messages.trash_generated_content_error)},success:function(e){return e.success?wpzinc_modal_show_success_message(page_generator_pro_generate_content.messages.trash_generated_content_success):wpzinc_modal_show_error_message(e.data)}})}function page_generator_pro_generate_content_delete_generated_content(e,t){wpzinc_modal_open(page_generator_pro_generate_content.titles.delete_generated_content,page_generator_pro_generate_content.messages.delete_generated_content),jQuery.ajax({url:ajaxurl,type:"POST",async:!0,data:{id:e,action:"page_generator_pro_generate_"+t+"_delete_generated_"+t},error:function(e,t,r){return wpzinc_modal_show_error_message(page_generator_pro_generate_content.messages.delete_generated_content_error)},success:function(e){return e.success?wpzinc_modal_show_success_message(page_generator_pro_generate_content.messages.delete_generated_content_success):wpzinc_modal_show_error_message(e.data)}})}jQuery(document).ready((function(e){e("body.page-generator-pro td.has-row-actions span a, body.page-generator-pro td.generated_count span a, body.page-generator-pro td.status span a, #page-generator-pro-actions-gutenberg-bottom span a").click((function(t){var r=e(this).parent("span").attr("class"),a=!0,n=page_generator_pro_get_url_param(e(this).attr("href"),"id"),o=page_generator_pro_get_url_param(e(this).attr("href"),"type"),p=page_generator_pro_generate_content.messages[r+"_confirm"];if(void 0===p)return!0;if(!(a=confirm(p)))return t.preventDefault(),!1;switch(r){case"test":t.preventDefault(),page_generator_pro_generate_content_test(n,o);break;case"generate":break;case"generate_server":break;case"cancel_generation":break;case"trash_generated_content":t.preventDefault(),page_generator_pro_generate_content_trash_generated_content(n,o);break;case"delete_generated_content":t.preventDefault(),page_generator_pro_generate_content_delete_generated_content(n,o);break}})),e("body").on("click","#page-generator-pro-progress button.close",(function(e){return e.preventDefault(),page_generator_pro_hide_overlay_and_progress(),!1})),e(document).on("click.page-generator-pro",".add-row",(function(t){t.preventDefault();var r=e(this).data("container"),a=e(this).data("row"),n=e(this).data("class"),o=e(a,e(r).parent());e(r).append("<"+e(a).prop("tagName")+' class="'+n+'">'+e(o).html()+"</"+e(a).prop("tagName")+">")})),e(document).on("click.page-generator-pro",".delete-row",(function(t){t.preventDefault(),e(this).closest(e(this).data("row")).remove()})),e(".is-sortable").length>0&&e(".is-sortable").each((function(){e(this).sortable()})),e(document).on("click","a.deselect-all",(function(t){t.preventDefault(),e('input[type="checkbox"]',e(e(this).data("list"))).prop("checked",!1)})),e('select[name="page-generator-pro[type]"]').on("change.page-generator-pro",(function(t){var r=e(this).val();e("#page-generator-pro-attributes").hide(),e("#page-generator-pro-attributes div.wpzinc-option").hide(),e("#page-generator-pro-taxonomies").hide(),e("#page-generator-pro-taxonomies div.wpzinc-option").hide(),e("#page-generator-pro-excerpt").hide(),e("#page-generator-pro-excerpt div.wpzinc-option").hide(),e("#page-generator-pro-attributes div.wpzinc-option."+r).length>0&&(e("#page-generator-pro-attributes").show(),e("#page-generator-pro-attributes div.wpzinc-option."+r).show()),e("#page-generator-pro-taxonomies div.wpzinc-option."+r).length>0&&(e("#page-generator-pro-taxonomies").show(),e("#page-generator-pro-taxonomies div.wpzinc-option."+r).show()),e("#page-generator-pro-excerpt div.wpzinc-option."+r).length>0&&(e("#page-generator-pro-excerpt").show(),e("#page-generator-pro-excerpt div.wpzinc-option."+r).show())})),e('select[name="page-generator-pro[type]"]').trigger("change.page-generator-pro"),e('select[name="page-generator-pro[status]"]').on("change.page-generator-pro",(function(){var t=e(this).val();e("div.future").hide(),e("div."+t).show()})),e('select[name="page-generator-pro[status]"]').trigger("change.page-generator-pro"),e('select[name="page-generator-pro[date_option]"]').on("change.page-generator-pro",(function(){var t=e(this).val();e("div.specific").hide(),e("div.random").hide(),e("div."+t).show()})),e('select[name="page-generator-pro[date_option]"]').trigger("change.page-generator-pro"),e('select[name="page-generator-pro[overwrite]"]').on("change.page-generator-pro",(function(){var t=e(this).val();e("div.overwrite-sections").hide(),e("div."+t).show()})),e('select[name="page-generator-pro[overwrite]"]').trigger("change.page-generator-pro"),e('select[name="page-generator-pro[featured_image_source]"]').on("change.page-generator-pro",(function(){var t=e(this).val();e(".featured_image",e(this).closest(".postbox")).hide(),t.length>0&&e(".featured_image."+t,e(this).closest(".postbox")).show()})),e('select[name="page-generator-pro[featured_image_source]"]').trigger("change.page-generator-pro"),e('select[name="tax"]').on("change.page-generator-pro",(function(t){var r=e(this).val();!0===page_generator_pro_generate_content.taxonomy_is_hierarchical[r]?e(".term-parent").show():e(".term-parent").hide()})),e('select[name="tax"]').trigger("change.page-generator-pro"),e("body.post-type-page-generator-pro form input[type=submit], body.taxonomy-page-generator-tax form input[type=submit]").click((function(t){e(window).off("beforeunload.edit-post");var r=e(this).attr("name"),a=!0,n=page_generator_pro_generate_content.messages[r+"_confirm"];return void 0===n||((a=confirm(n))?void 0:(t.preventDefault(),!1))})),e("body").on("change.page-generator-pro",'form.wpzinc-tinymce-popup select[name="maptype"]',(function(t){var r=e(this).val(),a=e(this).closest("form.wpzinc-tinymce-popup"),n=e('input[name="destination"]',e(a)).closest(".wpzinc-option"),o=e('select[name="country_code"]',e(a)).closest(".wpzinc-option"),p=e('input[name="term"]',e(a)).closest(".wpzinc-option");switch(e(n).hide(),e(o).hide(),e(p).hide(),r){case"roadmap":e(p).show();break;case"satellite":e(p).show();break;case"directions":e(n).show();break;case"streetview":e(o).show();break}})),e('form.wpzinc-tinymce-popup select[name="maptype"]').trigger("change.page-generator-pro")}));