function page_generator_pro_reinit_selectize(){var e;(e=jQuery)("input.wpzinc-selectize-freeform, .wpzinc-selectize-freeform input").each((function(){var a=void 0!==e(this).data("delimiter")?e(this).data("delimiter"):",";e(this).selectize({plugins:["drag_drop"],delimiter:a,persist:!1,create:function(e){return{value:e,text:e}}})})),e("select.wpzinc-selectize-drag-drop, .wpzinc-selectize-drag-drop select").selectize({plugins:["drag_drop"],delimiter:",",persist:!1,create:!1}).on("change",(function(){if(void 0!==e(this).data("controls")){var a=e(this).data("controls");if(0!==a.length){var t=e(this).val();if(e('select[name="'+a+'"] option').attr("disabled","disabled"),t){for(var i=0;i<t.length;i++)e('select[name="'+a+'"] option[value="'+t[i]+'"]').removeAttr("disabled");e('select[name="method"]').trigger("change.page-generator-pro")}}}})).trigger("change"),e("select.wpzinc-selectize-search, .wpzinc-selectize-search select").each((function(){var a=e(this).data("action"),t=e(this).data("args"),i=e(this).data("name-field"),r=e(this).data("value-field"),l=e(this).data("method"),s=e(this).data("output-fields").split(",");e(this).selectize({delimiter:",",valueField:r,labelField:i,searchField:i,options:[],create:!1,render:{option:function(e,a){for(var t=[],i=0;i<s.length;i++)t.push(e[s[i]]);return"<div>"+t.join(", ")+"</div>"}},load:function(i,r){if(!i.length||i.length<3)return r();e.ajax({url:ajaxurl,type:l,dataType:"json",data:{action:a,query:i,args:t},error:function(){r()},success:function(e){r(e.data)}})}})})),e("select.wpzinc-selectize-api, .wpzinc-selectize-api select").each((function(){var a=this;e(a).selectize({delimiter:",",options:[],create:!1,load:function(t,r){var l=e(a).data("action"),s=e(a).data("api-call"),n=e(a).data("api-search-field");if(api_fields=e(a).data("api-fields").split(","),country_code=e(a).data("country-code"),output_fields=e(a).data("output-fields").split(","),value_field=e(a).data("value-field"),!t.length||t.length<3)return r();var c={action:l,api_call:s,api_search_field:n,query:t,country_code:e('select[name="'+country_code+'"]').val()};for(i=0;i<api_fields.length;i++)c[api_fields[i].replace(/[\[\]']+/g,"")]=e('select[name="'+api_fields[i]+'"]').val();e.ajax({url:ajaxurl,type:"POST",async:!0,data:c,error:function(e,a,t){return wpzinc_modal_show_error_message_and_exit("err")},success:function(e){if(!e.success)return wpzinc_modal_show_error_message_and_exit(e.data.message);var a=[];for(i=0;i<e.data.data.length;i++){for(var t=[],l=0;l<output_fields.length;l++)t.push(e.data.data[i][output_fields[l]]);a.push({text:t.join(", "),value:e.data.data[i][value_field]})}r(a)}})}})})),e("select.wpzinc-selectize, .wpzinc-selectize select").each((function(){var a=this,t=e(a).data("action"),r=e(a).data("api-call"),l=e(a).data("country-code");e.ajax({url:ajaxurl,type:"POST",async:!0,data:{action:t,api_call:r,country_code:e('select[name="'+l+'"]').val()},error:function(e,a,t){return wpzinc_modal_show_error_message_and_exit("err")},success:function(t){var r=e(a).data("output-fields").split(",");if(value_field=e(a).data("value-field"),!t.success)return wpzinc_modal_show_error_message_and_exit(t.data.message);var l=[];for(i=0;i<t.data.data.length;i++){for(var s=[],n=0;n<r.length;n++)s.push(t.data.data[i][r[n]]);l.push({text:s.join(", "),value:t.data.data[i][value_field]})}e(a).selectize({options:l,create:!1,delimiter:",",load:function(e,a){a(l)}})}})}))}function page_generator_pro_destroy_selectize(){var e;(e=jQuery)(page_generator_pro_selectize.fields.join(", ")).selectize().each((function(){this.selectize.destroy()}))}page_generator_pro_reinit_selectize();